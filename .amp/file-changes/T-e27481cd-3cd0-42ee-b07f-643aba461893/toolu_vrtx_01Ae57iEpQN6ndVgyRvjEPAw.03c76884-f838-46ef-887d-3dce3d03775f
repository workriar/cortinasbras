{
  "id": "03c76884-f838-46ef-887d-3dce3d03775f",
  "uri": "file:///root/meu-projeto/static/script.js",
  "before": "document.addEventListener('DOMContentLoaded', function () {\n    // Carrossel funcional\n    const slides = document.querySelectorAll('.carousel .slide');\n    const prevBtn = document.querySelector('.carousel-btn.prev');\n    const nextBtn = document.querySelector('.carousel-btn.next');\n    let currentIdx = 0;\n    function showSlide(idx) {\n        slides.forEach((slide, i) => {\n            slide.classList.toggle('active', i === idx);\n        });\n    }\n    function nextSlide() {\n        currentIdx = (currentIdx + 1) % slides.length;\n        showSlide(currentIdx);\n    }\n    function prevSlide() {\n        currentIdx = (currentIdx - 1 + slides.length) % slides.length;\n        showSlide(currentIdx);\n    }\n    nextBtn.addEventListener('click', nextSlide);\n    prevBtn.addEventListener('click', prevSlide);\n\n    // autoplay\n    setInterval(nextSlide, 4000);\n    showSlide(currentIdx);\n\n    // Suavizar scroll CTA\n    const ctaBtn = document.getElementById('cta-btn');\n    const formSection = document.getElementById('form-orcamento');\n    ctaBtn.addEventListener('click', function () {\n        formSection.scrollIntoView({ behavior: 'smooth' });\n    });\n\n    // Formulário com feedback Flask\n    const form = document.getElementById('lp-form');\n    const msgSuccess = document.getElementById('msgSuccess');\n    form.addEventListener('submit', function(e) {\n        e.preventDefault();\n        const formData = new FormData(form);\n        fetch(form.action, { method: 'POST', body: formData })\n            .then(response => response.text())\n            .then(data => {\n                if (data === 'success') {\n                    msgSuccess.style.display = 'block';\n                    form.reset();\n                    setTimeout(() => { msgSuccess.style.display = 'none'; }, 5000);\n                } else {\n                    alert('Erro ao enviar. Tente novamente.');\n                }\n            })\n            .catch(error => {\n                alert('Erro ao enviar formulário. Tente novamente.');\n                console.error(error);\n            });\n    });\n});\n",
  "after": "// Carrossel\nlet currentSlide = 0;\nconst slides = document.querySelectorAll('.slide');\nconst totalSlides = slides.length;\n\nfunction showSlide(index) {\n    slides.forEach((slide, i) => {\n        slide.classList.toggle('active', i === index);\n    });\n}\n\nfunction nextSlide() {\n    currentSlide = (currentSlide + 1) % totalSlides;\n    showSlide(currentSlide);\n}\n\nfunction prevSlide() {\n    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;\n    showSlide(currentSlide);\n}\n\ndocument.querySelector('.carousel-btn.next')?.addEventListener('click', nextSlide);\ndocument.querySelector('.carousel-btn.prev')?.addEventListener('click', prevSlide);\n\n// Auto-rotate\nsetInterval(nextSlide, 5000);\n\n// Scroll suave para formulário\ndocument.getElementById('cta-btn')?.addEventListener('click', () => {\n    document.getElementById('form-orcamento')?.scrollIntoView({ behavior: 'smooth' });\n});\n\n// Envio do formulário para WhatsApp\nconst form = document.getElementById('lp-form');\nconst whatsappNumber = '5511992891070'; // Número do WhatsApp\n\nform?.addEventListener('submit', (e) => {\n    e.preventDefault();\n    \n    const nome = document.getElementById('nome').value;\n    const telefone = document.getElementById('telefone').value;\n    const largura = document.getElementById('larguraparede').value;\n    const altura = document.getElementById('alturaparede').value;\n    \n    // Monta a mensagem para WhatsApp\n    const mensagem = `Olá! Gostaria de solicitar um orçamento:\n\n*Nome:* ${nome}\n*Telefone:* ${telefone}\n*Largura da parede:* ${largura}m\n*Altura da parede:* ${altura}m\n\nAguardo retorno!`;\n    \n    // Codifica a mensagem para URL\n    const mensagemCodificada = encodeURIComponent(mensagem);\n    \n    // URL do WhatsApp\n    const urlWhatsApp = `https://wa.me/${whatsappNumber}?text=${mensagemCodificada}`;\n    \n    // Abre o WhatsApp em nova aba\n    window.open(urlWhatsApp, '_blank');\n    \n    // Mostra mensagem de sucesso\n    const msgSuccess = document.getElementById('msgSuccess');\n    msgSuccess.style.display = 'block';\n    \n    // Reseta o formulário\n    form.reset();\n    \n    // Esconde mensagem após 5 segundos\n    setTimeout(() => {\n        msgSuccess.style.display = 'none';\n    }, 5000);\n});\n",
  "diff": "Index: file:///root/meu-projeto/static/script.js\n===================================================================\n--- file:///root/meu-projeto/static/script.js\toriginal\n+++ file:///root/meu-projeto/static/script.js\tmodified\n@@ -1,56 +1,75 @@\n-document.addEventListener('DOMContentLoaded', function () {\n-    // Carrossel funcional\n-    const slides = document.querySelectorAll('.carousel .slide');\n-    const prevBtn = document.querySelector('.carousel-btn.prev');\n-    const nextBtn = document.querySelector('.carousel-btn.next');\n-    let currentIdx = 0;\n-    function showSlide(idx) {\n-        slides.forEach((slide, i) => {\n-            slide.classList.toggle('active', i === idx);\n-        });\n-    }\n-    function nextSlide() {\n-        currentIdx = (currentIdx + 1) % slides.length;\n-        showSlide(currentIdx);\n-    }\n-    function prevSlide() {\n-        currentIdx = (currentIdx - 1 + slides.length) % slides.length;\n-        showSlide(currentIdx);\n-    }\n-    nextBtn.addEventListener('click', nextSlide);\n-    prevBtn.addEventListener('click', prevSlide);\n+// Carrossel\n+let currentSlide = 0;\n+const slides = document.querySelectorAll('.slide');\n+const totalSlides = slides.length;\n \n-    // autoplay\n-    setInterval(nextSlide, 4000);\n-    showSlide(currentIdx);\n-\n-    // Suavizar scroll CTA\n-    const ctaBtn = document.getElementById('cta-btn');\n-    const formSection = document.getElementById('form-orcamento');\n-    ctaBtn.addEventListener('click', function () {\n-        formSection.scrollIntoView({ behavior: 'smooth' });\n+function showSlide(index) {\n+    slides.forEach((slide, i) => {\n+        slide.classList.toggle('active', i === index);\n     });\n+}\n \n-    // Formulário com feedback Flask\n-    const form = document.getElementById('lp-form');\n+function nextSlide() {\n+    currentSlide = (currentSlide + 1) % totalSlides;\n+    showSlide(currentSlide);\n+}\n+\n+function prevSlide() {\n+    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;\n+    showSlide(currentSlide);\n+}\n+\n+document.querySelector('.carousel-btn.next')?.addEventListener('click', nextSlide);\n+document.querySelector('.carousel-btn.prev')?.addEventListener('click', prevSlide);\n+\n+// Auto-rotate\n+setInterval(nextSlide, 5000);\n+\n+// Scroll suave para formulário\n+document.getElementById('cta-btn')?.addEventListener('click', () => {\n+    document.getElementById('form-orcamento')?.scrollIntoView({ behavior: 'smooth' });\n+});\n+\n+// Envio do formulário para WhatsApp\n+const form = document.getElementById('lp-form');\n+const whatsappNumber = '5511992891070'; // Número do WhatsApp\n+\n+form?.addEventListener('submit', (e) => {\n+    e.preventDefault();\n+    \n+    const nome = document.getElementById('nome').value;\n+    const telefone = document.getElementById('telefone').value;\n+    const largura = document.getElementById('larguraparede').value;\n+    const altura = document.getElementById('alturaparede').value;\n+    \n+    // Monta a mensagem para WhatsApp\n+    const mensagem = `Olá! Gostaria de solicitar um orçamento:\n+\n+*Nome:* ${nome}\n+*Telefone:* ${telefone}\n+*Largura da parede:* ${largura}m\n+*Altura da parede:* ${altura}m\n+\n+Aguardo retorno!`;\n+    \n+    // Codifica a mensagem para URL\n+    const mensagemCodificada = encodeURIComponent(mensagem);\n+    \n+    // URL do WhatsApp\n+    const urlWhatsApp = `https://wa.me/${whatsappNumber}?text=${mensagemCodificada}`;\n+    \n+    // Abre o WhatsApp em nova aba\n+    window.open(urlWhatsApp, '_blank');\n+    \n+    // Mostra mensagem de sucesso\n     const msgSuccess = document.getElementById('msgSuccess');\n-    form.addEventListener('submit', function(e) {\n-        e.preventDefault();\n-        const formData = new FormData(form);\n-        fetch(form.action, { method: 'POST', body: formData })\n-            .then(response => response.text())\n-            .then(data => {\n-                if (data === 'success') {\n-                    msgSuccess.style.display = 'block';\n-                    form.reset();\n-                    setTimeout(() => { msgSuccess.style.display = 'none'; }, 5000);\n-                } else {\n-                    alert('Erro ao enviar. Tente novamente.');\n-                }\n-            })\n-            .catch(error => {\n-                alert('Erro ao enviar formulário. Tente novamente.');\n-                console.error(error);\n-            });\n-    });\n+    msgSuccess.style.display = 'block';\n+    \n+    // Reseta o formulário\n+    form.reset();\n+    \n+    // Esconde mensagem após 5 segundos\n+    setTimeout(() => {\n+        msgSuccess.style.display = 'none';\n+    }, 5000);\n });\n",
  "isNewFile": false,
  "reverted": false,
  "timestamp": 1761677988925
}