{
  "id": "32e0d884-f2b8-41d2-a823-1b61da363f41",
  "uri": "file:///root/meu-projeto/deploy/nginx-react.conf",
  "before": "",
  "after": "# Redireciona HTTP para HTTPS\nserver {\n    listen 80;\n    server_name cortinasbras.com.br www.cortinasbras.com.br;\n    return 301 https://$server_name$request_uri;\n}\n\n# Servidor HTTPS\nserver {\n    listen 443 ssl;\n    server_name cortinasbras.com.br www.cortinasbras.com.br;\n    \n    ssl_certificate /etc/letsencrypt/live/cortinasbras.com.br/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/cortinasbras.com.br/privkey.pem;\n\n    # Todas as requisições vão para o Flask (que serve o React build)\n    location / {\n        proxy_pass http://127.0.0.1:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        \n        # Timeout aumentado para o gunicorn\n        proxy_connect_timeout 120;\n        proxy_send_timeout 120;\n        proxy_read_timeout 120;\n    }\n\n    # Logs\n    access_log /var/log/nginx/cortinasbras_access.log;\n    error_log /var/log/nginx/cortinasbras_error.log;\n}\n",
  "diff": "Index: file:///root/meu-projeto/deploy/nginx-react.conf\n===================================================================\n--- file:///root/meu-projeto/deploy/nginx-react.conf\toriginal\n+++ file:///root/meu-projeto/deploy/nginx-react.conf\tmodified\n@@ -0,0 +1,33 @@\n+# Redireciona HTTP para HTTPS\n+server {\n+    listen 80;\n+    server_name cortinasbras.com.br www.cortinasbras.com.br;\n+    return 301 https://$server_name$request_uri;\n+}\n+\n+# Servidor HTTPS\n+server {\n+    listen 443 ssl;\n+    server_name cortinasbras.com.br www.cortinasbras.com.br;\n+    \n+    ssl_certificate /etc/letsencrypt/live/cortinasbras.com.br/fullchain.pem;\n+    ssl_certificate_key /etc/letsencrypt/live/cortinasbras.com.br/privkey.pem;\n+\n+    # Todas as requisições vão para o Flask (que serve o React build)\n+    location / {\n+        proxy_pass http://127.0.0.1:8000;\n+        proxy_set_header Host $host;\n+        proxy_set_header X-Real-IP $remote_addr;\n+        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n+        proxy_set_header X-Forwarded-Proto $scheme;\n+        \n+        # Timeout aumentado para o gunicorn\n+        proxy_connect_timeout 120;\n+        proxy_send_timeout 120;\n+        proxy_read_timeout 120;\n+    }\n+\n+    # Logs\n+    access_log /var/log/nginx/cortinasbras_access.log;\n+    error_log /var/log/nginx/cortinasbras_error.log;\n+}\n",
  "isNewFile": true,
  "reverted": false,
  "timestamp": 1761688311929
}